{% extends "base.html" %}

{% block content %}
<div style="max-width:1200px; margin:40px auto; padding:30px; 
            background:linear-gradient(135deg,#0d0d0d,#1a1a1a); 
            border-radius:20px; box-shadow:0 8px 30px rgba(0,0,0,0.7); 
            color:#fff;">

    <!-- ✅ Heading -->
    <h2 style="text-align:center; color:darkorange; font-size:2.2rem; margin-bottom:25px; 
               text-shadow:0 0 12px rgba(255,140,0,0.6);">
        📦 My Orders
    </h2>

    {% if orders %}
    <div style="overflow-x:auto;">
      <table style="width:100%; border-collapse:collapse; font-size:15px;">
          <thead>
              <tr style="background:#111; color:darkorange; text-align:center;">
                  <th style="padding:14px;">Order ID</th>
                  <th style="padding:14px;">Vendor</th>
                  <th style="padding:14px;">Total (₹)</th>
                  <th style="padding:14px;">Status</th>
                  <th style="padding:14px;">Date</th>
                  <th style="padding:14px;">Actions</th>
              </tr>
          </thead>
          <tbody>
              {% for order in orders %}
              <tr style="border-bottom:1px solid #333; text-align:center;">
                  <td style="padding:12px; font-weight:bold; color:#ffcc00;">
                      #{{ order.id }}
                  </td>
                  <td style="padding:12px;">
                      {{ order.vendor.name|default:"Vendor" }}
                  </td>
                  <td style="padding:12px; color:lime;">
                      ₹{{ order.total_amount|floatformat:2 }}
                  </td>
                  <td style="padding:12px;">
                      <span style="padding:6px 12px; border-radius:12px; 
                                   background:{% if order.status == 'completed' %}#28a745{% elif order.status == 'pending' %}#ffc107{% else %}#dc3545{% endif %};
                                   color:#111; font-weight:bold;">
                          {{ order.status|title }}
                      </span>
                  </td>
                  <td style="padding:12px; color:#aaa;">
                      {{ order.created_at|date:"M d, Y H:i" }}
                  </td>
                  <td style="padding:12px;">
                      <a href="{% url 'orders:order_summary' order.id %}" 
                         style="background:linear-gradient(45deg,darkorange,#ffb84d); 
                                color:#111; padding:8px 16px; border-radius:20px; 
                                text-decoration:none; font-weight:bold; 
                                box-shadow:0 4px 10px rgba(255,140,0,0.4); 
                                transition:.3s;">
                          🔍 View
                      </a>
                  </td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
    </div>

    {% else %}
      <p style="text-align:center; color:#aaa; margin-top:30px;">
        ❌ No orders found.
      </p>
    {% endif %}

    <!-- ✅ Back Button -->
    <div style="margin-top:35px; text-align:center;">
        <a href="{% url 'core:home' %}" 
           style="background:#333; color:white; padding:14px 28px; 
                  border-radius:30px; font-weight:bold; text-decoration:none; 
                  transition:.3s;">
            🏠 Back to Home
        </a>
    </div>
</div>
{% endblock %}
